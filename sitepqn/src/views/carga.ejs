<!DOCTYPE html>
<html lang="es">
  <%- include('partials/head') %>
<link rel="stylesheet" href="/stylesheets/formCarga.css">
<script src="/javascripts/formCargaV.js"></script>
<body id="carga">
  <%- include('partials/header') %>

<h2>Formulario de Carga de Productos</h2>

<div class="conteiner-fluid formulario"><!--se corre el form en sm-->
  <div class="datosProducto">
    <div class="formProd">
      <form id="cargaProd" action="" method="POST" enctype="multipart/form-data">
  
        <div class="formulario">
          <div class="carga">
            <h3>Carga de producto</h3>

            <label for="sku"> sku: </label>
            <small class="text-danger"><%= (typeof errors != 'undefined' && errors.sku)?errors.sku.msg: "" %> </small>
            <input type="text" id="sku" name="sku" placeholder="123456" required> 
            <span id="errorSku" class="text-danger"></span>

            <label for="nombre"> Nombre del Producto: </label>
            <small class="text-danger"><%= (typeof errors != 'undefined' && errors.nombre)?errors.nombre.msg: "" %> </small>
            <input type="text" id="nombre" name="nombre" placeholder="Nombre del Producto"  style="font-family: inherit;
            font-size: 16px;
            line-height: inherit;" required>
            <span id="errorNombre" class="text-danger"></span>

            <label for="precio"> Precio: </label>
            <small class="text-danger"><%= (typeof errors != 'undefined' && errors.precio)?errors.precio.msg: "" %> </small>
            <input type="text" id="precio" name="precio" placeholder="1000.00" required>
            <span id="errorPrecio" class="text-danger"></span>

           
            <div class="form-group col-12 col-xl-6"> 
              <label for="categoria">Categoría: </label>  <!---->
              <small class="text-danger"><%= (typeof errors != 'undefined' && errors.categoria)?errors.categoria.msg: "" %> </small>  <!---->
              <select name="categoria" id="selectCategoria" placeholder="muñecas"required class="form-control <%= (typeof old != 'undefined' && old.categoria)?"is-valid":(typeof errors != 'undefined' && errors.categoria)?"is-invalid": ""  %>">
                <option value="">Eligí la categoría</option>
                <% if (typeof oldCategoria != 'undefined') { %>
                    <option value="<%= old.categoria %> " selected><%= oldCategoria %> </option>
                <% } %>
                <% categorias.forEach(categoria => { %>
                    <option value="<%= categoria.id %>"><%= categoria.nombre %> </option>
                <% }) %>>
              </select>
              <span id="errorCategoria" class="text-danger"></span>
              </div>

              <div class="form-group col-12 col-xl-6">
                <label for="subCategoria"> Sub-Categoría: </label>
                <select id="selectSub" name="subcategoria" placeholder="autos" required class="form-control <%= (typeof old != 'undefined' && old.subcategoria)?"is-valid":(typeof errors != 'undefined' && errors.subcategoria)?"is-invalid": ""  %>">
                  <option value="">Eligí la subcategoría</option>
                </select>
               
                <small id="errorSubCategoria" class="text-danger"><%= (typeof errors != 'undefined' && errors.subcategoria)?errors.subcategoria.msg: "" %> </small>
              </div>
           
            <label for="categ
            <label for="seccion"> Seccion: </label>
            <small class="text-danger"><%= (typeof errors != 'undefined' && errors.seccion)?errors.seccion.msg: "" %> </small>
            <select id="seccion" class="custom-select custom-select-lg mb-3" name="seccion"  placeholder="Normal-Ofertas-Visitadas-Campaña"required>
              <option value="">Elija una sección del Menú</option>
              <option value=" Normal">Normal</option>
              <option value="Ofertas">Ofertas</option>
              <option value="Visitadas">Visitadas</option>
              <option value="Campaña">Campaña</option>
            </select> 
            <span id="errorSeccion" class="text-danger"></span>
            
            <label for="discount"> Descuento: </label>
            <small class="text-danger"><%= (typeof errors != 'undefined' && errors.descuento)?errors.descuento.msg: "" %> </small>
            <input type="text" id="discount" name="descuento" placeholder="5% al 30%" required >
            <span id="errorDiscount" class="text-danger"></span>
            
            <label for="exampleFormControlTextarea1">Descripción</label>
            <small class="text-danger"><%= (typeof errors != 'undefined' && errors.descripcion)?errors.descripcion.msg: "" %> </small>
            <textarea class="form-control" id="exampleFormControlTextarea1" rows="4" name="descripcion" required minlength="20" maxlength="450" required></textarea>
            <span id="errorDescripcion" class="text-danger"></span>
        
          </div>          
        </div>
        <br>
        <!--Carga de imagen del producto-->
       <!-- <div class="photo">
          <label for="foto">Foto de Producto: </label>
          
          <div class="prevPhoto">
              <span class="imagen"><img src="" alt=""></span>
              <label for="foto"></label>
          </div>
          <div class="uping">
            <input type="file" name="foto" id="foto" required>
            <span id="errorFoto" class="text-danger"></span>       
          </div>
        </div>-->
        <div class="photo">
          <label for="foto">Foto de Producto: </label>
            <input type="file" class="form-control upload" name="foto" id="foto" accept="image/*" multiple="multiple" required>
            <span id="errorFoto" class="text-danger"></span>       
        </div>         
        
        <input type="submit" value="Finalizar carga del producto" class="btn">
       
      </form>
    </div>
  </div>
  
</div>

<%- include('partials/footer') %>
</body>
</html>